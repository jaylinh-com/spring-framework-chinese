<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2.3. Built-in Resource Implementations | Spring 框架中文手册</title>
    <meta name="generator" content="VuePress 1.5.1">
    <link rel="ico" href="/spring-framework-chinese/logo.png">
    <link rel="shortcut icon" href="/spring-framework-chinese/favicon.ico">
    <meta name="description" content="Spring 框架中文手册">
    <link rel="preload" href="/spring-framework-chinese/assets/css/0.styles.ebcbd2a1.css" as="style"><link rel="preload" href="/spring-framework-chinese/assets/js/app.7f7a7551.js" as="script"><link rel="preload" href="/spring-framework-chinese/assets/js/2.50df17b9.js" as="script"><link rel="preload" href="/spring-framework-chinese/assets/js/26.857b0aca.js" as="script"><link rel="prefetch" href="/spring-framework-chinese/assets/js/10.bfc83172.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/11.01ae9702.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/12.10b8ba23.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/13.e82d4854.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/14.8313c1a2.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/15.2ae7b002.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/16.e0e832a3.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/17.2ac8ca66.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/18.94516c40.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/19.4c271218.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/20.a49db269.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/21.44ab8b0e.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/22.a8c84864.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/23.c8a4bbda.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/24.ec68a7e9.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/25.b82d2a58.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/27.f0532bc8.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/28.3604dbff.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/29.39def84e.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/3.d523927b.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/30.b03eb723.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/31.ed3a9e10.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/32.a85bf573.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/33.ae28b0b7.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/34.9e88e78d.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/35.1e131310.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/36.f5ea134b.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/37.289125ac.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/38.d6a7ff10.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/39.5103f2a4.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/4.ef7c169f.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/40.0c84c838.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/41.5fe6029c.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/42.1ca496bf.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/43.e9955b9f.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/44.fd3dd778.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/45.1c292044.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/46.d899fc4e.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/47.a53a7ed9.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/48.f6e31a7d.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/49.5141b329.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/5.4f4be299.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/50.1ec4c777.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/51.b36b6f2d.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/52.82f72052.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/53.61ada9ad.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/54.173030d1.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/55.b40ceaae.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/56.744714ce.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/57.c382a8d1.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/58.71898093.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/59.3462396b.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/6.e7c33066.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/60.35f162e9.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/61.65e5fe66.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/62.6d332bf6.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/63.2bfad0b1.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/64.1dd0856d.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/65.c9e0f313.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/66.169906cd.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/7.d98cbe58.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/8.6c18462c.js"><link rel="prefetch" href="/spring-framework-chinese/assets/js/9.8e904536.js">
    <link rel="stylesheet" href="/spring-framework-chinese/assets/css/0.styles.ebcbd2a1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/spring-framework-chinese/" class="home-link router-link-active"><!----> <span class="site-name">Spring 框架中文手册</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/spring-framework-chinese/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/spring-framework-chinese/overview/" class="nav-link">
  概述
</a></div><div class="nav-item"><a href="/spring-framework-chinese/core/" class="nav-link router-link-active">
  核心
</a></div><div class="nav-item"><a href="/spring-framework-chinese/testing/" class="nav-link">
  测试
</a></div><div class="nav-item"><a href="/spring-framework-chinese/data-access/" class="nav-link">
  数据访问
</a></div><div class="nav-item"><a href="/spring-framework-chinese/web-servlet/" class="nav-link">
  Web Servlet
</a></div><div class="nav-item"><a href="/spring-framework-chinese/web-reactive/" class="nav-link">
  Web Reactive
</a></div><div class="nav-item"><a href="/spring-framework-chinese/integration/" class="nav-link">
  集成
</a></div><div class="nav-item"><a href="/spring-framework-chinese/languages/" class="nav-link">
  语言
</a></div><div class="nav-item"><a href="https://github.com/jaylinh-com/spring-framework-chinese" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="切换语言" class="dropdown-title"><span class="title">切换语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/spring-framework-chinese/core/resources/built-in-resource-implementations.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/spring-framework-chinese/en/core/resources/built-in-resource-implementations.html" class="nav-link">
  English
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/spring-framework-chinese/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/spring-framework-chinese/overview/" class="nav-link">
  概述
</a></div><div class="nav-item"><a href="/spring-framework-chinese/core/" class="nav-link router-link-active">
  核心
</a></div><div class="nav-item"><a href="/spring-framework-chinese/testing/" class="nav-link">
  测试
</a></div><div class="nav-item"><a href="/spring-framework-chinese/data-access/" class="nav-link">
  数据访问
</a></div><div class="nav-item"><a href="/spring-framework-chinese/web-servlet/" class="nav-link">
  Web Servlet
</a></div><div class="nav-item"><a href="/spring-framework-chinese/web-reactive/" class="nav-link">
  Web Reactive
</a></div><div class="nav-item"><a href="/spring-framework-chinese/integration/" class="nav-link">
  集成
</a></div><div class="nav-item"><a href="/spring-framework-chinese/languages/" class="nav-link">
  语言
</a></div><div class="nav-item"><a href="https://github.com/jaylinh-com/spring-framework-chinese" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="切换语言" class="dropdown-title"><span class="title">切换语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/spring-framework-chinese/core/resources/built-in-resource-implementations.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/spring-framework-chinese/en/core/resources/built-in-resource-implementations.html" class="nav-link">
  English
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/spring-framework-chinese/core/" class="sidebar-heading clickable router-link-active"><span>1. Ioc 容器</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/spring-framework-chinese/core/resources/" class="sidebar-heading clickable router-link-active open"><span>2. Resources</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/spring-framework-chinese/core/resources/introduction.html" class="sidebar-link">2.1.Introduction</a></li><li><a href="/spring-framework-chinese/core/resources/the-resource-interface.html" class="sidebar-link">2.2.The Resource Interface</a></li><li><a href="/spring-framework-chinese/core/resources/built-in-resource-implementations.html" aria-current="page" class="active sidebar-link">2.4.Built-in Resource Implementations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring-framework-chinese/core/resources/built-in-resource-implementations.html#_2-3-1-urlresource" class="sidebar-link">2.3.1. UrlResource</a></li><li class="sidebar-sub-header"><a href="/spring-framework-chinese/core/resources/built-in-resource-implementations.html#_2-3-2-classpathresource" class="sidebar-link">2.3.2.ClassPathResource</a></li><li class="sidebar-sub-header"><a href="/spring-framework-chinese/core/resources/built-in-resource-implementations.html#_2-3-3-filesystemresource" class="sidebar-link">2.3.3.FileSystemResource</a></li><li class="sidebar-sub-header"><a href="/spring-framework-chinese/core/resources/built-in-resource-implementations.html#_2-3-4-servletcontextresource" class="sidebar-link">2.3.4.ServletContextResource</a></li><li class="sidebar-sub-header"><a href="/spring-framework-chinese/core/resources/built-in-resource-implementations.html#_2-3-5-inputstreamresource" class="sidebar-link">2.3.5.InputStreamResource</a></li><li class="sidebar-sub-header"><a href="/spring-framework-chinese/core/resources/built-in-resource-implementations.html#_2-3-6-bytearrayresource" class="sidebar-link">2.3.6.ByteArrayResource</a></li></ul></li><li><a href="/spring-framework-chinese/core/resources/the-resourceloader.html" class="sidebar-link">2.4.The ResourceLoader</a></li><li><a href="/spring-framework-chinese/core/resources/introduction.html" class="sidebar-link">2.5.The ResourceLoaderAware interface</a></li><li><a href="/spring-framework-chinese/core/resources/introduction.html" class="sidebar-link">2.6.Resources as Dependencies</a></li><li><a href="/spring-framework-chinese/core/resources/introduction.html" class="sidebar-link">2.7.Application Contexts and Resource Paths</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>3. 验证，数据绑定和类型转换</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>4. Spring 表达式语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>5. Spring 和 AOP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>6. Spring AOP APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>7. Null-safety</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>8. 数据缓冲和编解码器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>9. 附录</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2-3-built-in-resource-implementations"><a href="#_2-3-built-in-resource-implementations" class="header-anchor">#</a> 2.3. Built-in Resource Implementations</h1> <p>Spring includes the following <code>Resource</code> implementations:</p> <ul><li><p>UrlResource</p></li> <li><p>ClassPathResource</p></li> <li><p>FileSystemResource</p></li> <li><p>ServletContextResource</p></li> <li><p>InputStreamResource</p></li> <li><p>ByteArrayResource</p></li></ul> <h2 id="_2-3-1-urlresource"><a href="#_2-3-1-urlresource" class="header-anchor">#</a> 2.3.1. UrlResource</h2> <p><code>UrlResource</code> wraps a <code>java.net.URL</code> and can be used to access any object that is normally accessible with a URL, such as files, an HTTP target, an FTP target, and others. All URLs have a standardized <code>String</code> representation, such that appropriate standardized prefixes are used to indicate one URL type from another. This includes <code>file:</code> for accessing filesystem paths, <code>http:</code> for accessing resources through the HTTP protocol, <code>ftp:</code> for accessing resources through FTP, and others.</p> <p>A <code>UrlResource</code> is created by Java code by explicitly using the <code>UrlResource</code> constructor but is often created implicitly when you call an API method that takes a <code>String</code> argument meant to represent a path. For the latter case, a JavaBeans <code>PropertyEditor</code> ultimately decides which type of <code>Resource</code> to create. If the path string contains well-known (to it, that is) prefix (such as <code>classpath:</code>), it creates an appropriate specialized <code>Resource</code> for that prefix. However, if it does not recognize the prefix, it assume the string is a standard URL string and creates a <code>UrlResource</code>.</p> <h2 id="_2-3-2-classpathresource"><a href="#_2-3-2-classpathresource" class="header-anchor">#</a> 2.3.2.ClassPathResource</h2> <p>This class represents a resource that should be obtained from the classpath. It uses either the thread context class loader, a given class loader, or a given class for loading resources.</p> <p>This <code>Resource</code> implementation supports resolution as <code>java.io.File</code> if the class path resource resides in the file system but not for classpath resources that reside in a jar and have not been expanded (by the servlet engine or whatever the environment is) to the filesystem. To address this, the various <code>Resource</code> implementations always support resolution as a <code>java.net.URL</code>.</p> <p>A <code>ClassPathResource</code> is created by Java code by explicitly using the <code>ClassPathResource</code> constructor but is often created implicitly when you call an API method that takes a <code>String</code> argument meant to represent a path. For the latter case, a JavaBeans <code>PropertyEditor</code> recognizes the special prefix, <code>classpath:</code>, on the string path and creates a <code>ClassPathResource</code> in that case.</p> <h2 id="_2-3-3-filesystemresource"><a href="#_2-3-3-filesystemresource" class="header-anchor">#</a> 2.3.3.FileSystemResource</h2> <p>This is a <code>Resource</code> implementation for <code>java.io.File</code> and <code>java.nio.file.Path</code> handles. It supports resolution as a <code>File</code> and as a <code>URL</code>.</p> <h2 id="_2-3-4-servletcontextresource"><a href="#_2-3-4-servletcontextresource" class="header-anchor">#</a> 2.3.4.ServletContextResource</h2> <p>This is a <code>Resource</code> implementation for <code>ServletContext</code> resources that interprets relative paths within the relevant web application’s root directory.</p> <p>It always supports stream access and URL access but allows <code>java.io.File</code> access only when the web application archive is expanded and the resource is physically on the filesystem. Whether or not it is expanded and on the filesystem or accessed directly from the JAR or somewhere else like a database (which is conceivable) is actually dependent on the Servlet container.</p> <h2 id="_2-3-5-inputstreamresource"><a href="#_2-3-5-inputstreamresource" class="header-anchor">#</a> 2.3.5.InputStreamResource</h2> <p>An <code>InputStreamResource</code> is a <code>Resource</code> implementation for a given <code>InputStream</code>. It should be used only if no specific <code>Resource</code> implementation is applicable. In particular, prefer <code>ByteArrayResource</code> or any of the file-based <code>Resource</code> implementations where possible.</p> <p>In contrast to other <code>Resource</code> implementations, this is a descriptor for an already-opened resource. Therefore, it returns <code>true</code> from <code>isOpen()</code>. Do not use it if you need to keep the resource descriptor somewhere or if you need to read a stream multiple times.</p> <h2 id="_2-3-6-bytearrayresource"><a href="#_2-3-6-bytearrayresource" class="header-anchor">#</a> 2.3.6.ByteArrayResource</h2> <p>This is a <code>Resource</code> implementation for a given byte array. It creates a <code>ByteArrayInputStream</code> for the given byte array.</p> <p>It is useful for loading content from any given byte array without having to resort to a single-use <code>InputStreamResource</code>.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新时间:</span> <span class="time">2021-01-18 13:01:04</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/spring-framework-chinese/core/resources/the-resource-interface.html" class="prev">
        2.2.The Resource Interface
      </a></span> <span class="next"><a href="/spring-framework-chinese/core/resources/the-resourceloader.html">
        2.4.The ResourceLoader
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/spring-framework-chinese/assets/js/app.7f7a7551.js" defer></script><script src="/spring-framework-chinese/assets/js/2.50df17b9.js" defer></script><script src="/spring-framework-chinese/assets/js/26.857b0aca.js" defer></script>
  </body>
</html>
